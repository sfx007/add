import{d as L,u as R,r as $,i as N,g as z,af as S,I as j,E as H,c as P,w as s,X as d,o as n,b as i,a as e,K as D,m as r,n as o,A as E,ag as U,V as W,e as _,ah as A,ai as F,P as K}from"./Djz0RQIo.js";import{_ as O}from"./CHlI8V3o.js";import{_ as X,a as Y}from"./BQuN4aJL.js";import{_ as q}from"./HT-jZiGK.js";import"./CBLkfl4i.js";import"./DZoQ3b5Q.js";import"./DvE5EybM.js";import"./BUi9Q6PF.js";import"./CeI-xotQ.js";import"./0YUWycGk.js";import"./CSmVOpRL.js";import"./I2833azj.js";import"./Hp647MZf.js";const G={class:"bg-image-blue flex h-full flex-col"},J={key:0,class:"flex w-full flex-col items-center"},Q={key:0,class:"flex max-w-xl flex-col text-blue-300"},Z={class:"mb-8 flex w-full max-w-4xl flex-row justify-center"},ee={key:1,class:"mb-8 flex w-full flex-row justify-center"},oe={class:"flex flex-1 flex-col"},xe=L({__name:"redeem",setup(te){R({title:"Redeem Coupon",description:"Redeem a coupon code for access"});const a=$(""),u=N("loginModal"),f=d("onLoginClick"),p=d("googleLibraryInitialized"),{createToast:x,errToast:b}=z(),{prefetchDashboard:g}=S(),y=async()=>{try{await F(a.value),x({type:"success",text:"Code redeemed successfully!"}),await K("/dashboard")}catch(c){b(c)}},h=j(),{isLoggedIn:v,user:l}=H(h);return(c,t)=>{const w=U,m=W,C=A,k=D,M=O,V=X,I=Y,T=q;return n(),P(T,null,{default:s(()=>[i("div",G,[e(M,{title:"Redeem your Boot.dev membership","is-h1":""},{main:s(()=>[e(k,null,{default:s(()=>[o(v)?(n(),r("div",J,[o(l)?.IsMember?(n(),r("div",Q," You already have access, if you have a code, you can use it once your membership expires. Hold onto it somewhere safe! ")):E("",!0),i("div",Z,[e(w,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=B=>a.value=B),class:"mt-10 w-1/2",placeholder:"Paste your code here",type:"text","aria-label":"Membership code",disabled:o(l)?.IsMember},null,8,["modelValue","disabled"]),e(m,{class:"ml-3 mt-10",disabled:!a.value.length||o(l)?.IsMember,onClick:y,onMouseenter:o(g)},{default:s(()=>[...t[1]||(t[1]=[_(" Redeem ",-1)])]),_:1},8,["disabled","onMouseenter"])])])):(n(),r("div",ee,[e(C,{ref_key:"loginModal",ref:u,"google-library-initialized":o(p)},null,8,["google-library-initialized"]),e(m,{class:"mt-10",onClick:o(f)},{default:s(()=>[...t[2]||(t[2]=[_(" Login ",-1)])]),_:1},8,["onClick"])]))]),_:1})]),_:1}),i("div",oe,[e(V,{gem:""}),e(I,{class:"flex grow"})])])]),_:1})}}});export{xe as default};
