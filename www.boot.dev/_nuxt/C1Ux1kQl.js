import{_ as le}from"./DzWoEtVq.js";import{d as M,eN as ie,E as ce,N as j,cs as ue,G as pe,z as A,m as g,o as c,b as s,c8 as $,a,w as i,e as _,at as h,F as E,B as F,C as v,A as de,n as t,ag as me,bz as _e,c as N,cx as fe,V as G,c9 as I,P as ge,af as he,j as ve,eO as ye,l as we,u as xe,a2 as Ce}from"./Djz0RQIo.js";import{_ as Se}from"./B97M0pee.js";import{_ as be}from"./DO4e62-N.js";import{u as ke}from"./LzMEUYpQ.js";import{_ as Te}from"./CHlI8V3o.js";import{_ as qe,a as Be}from"./BQuN4aJL.js";import{_ as Pe}from"./HT-jZiGK.js";import"./D6Ho5i_A.js";import"./DLZLUVU_.js";import"./CBLkfl4i.js";import"./DZoQ3b5Q.js";import"./DvE5EybM.js";import"./BUi9Q6PF.js";import"./CeI-xotQ.js";import"./0YUWycGk.js";import"./CSmVOpRL.js";import"./I2833azj.js";import"./Hp647MZf.js";const Le={class:"w-full p-2 flex flex-col items-center gap-8"},$e={class:"max-w-lg w-full"},Ie={class:"flex flex-col gap-2 mb-4"},Ne={class:"flex w-full gap-1 flex-wrap"},Qe={class:"flex w-full gap-1 flex-wrap"},Ve={class:"flex flex-row justify-center gap-4"},ze={class:"relative w-full"},De={key:1},Re={class:"py-8 text-center text-gray-400"},Ue={class:"flex flex-col items-center gap-2 max-w-3xl w-full"},Ae={class:"flex w-full items-center justify-between max-w-2xl"},Ee={class:"text-sm text-gray-400"},Fe=M({__name:"SearchChallenges",setup(H){const y=ie(),{clearSearchInput:b,performSearch:w,updateSearchQuery:u,deserializeSearchParams:x}=y,{searchQuery:r,lastSearchQuery:p,results:d,isLoading:m,hasSearched:k}=ce(y),{paginatedItems:T,currentPage:C,totalResults:S,totalPages:q,range:B,nextPage:J,prevPage:W,resetPage:X}=ke(d,10),f=j(),Q=ue();pe(()=>{if(p.value&&!f.query.q){const{query:e,type:o,langs:l}=p.value;Q.replace({path:f.path,query:{q:e,t:o,l}})}});const O=["Python","Go","TypeScript","JavaScript","SQL","C"],K={C:"c",Go:"go",JavaScript:"js",Python:"py",SQL:"sql",TypeScript:"ts"},V=e=>K[e],Y={Code:"type_code",Interview:"type_interview_chat"},z=e=>Y[e],D=e=>r.value?.type===z(e),Z=e=>r.value?.langs?.includes(V(e)),ee=e=>{const o=V(e),l=r.value.langs??[];l.includes(o)?u({langs:l.filter(P=>P!==o)}):u({langs:[...l,o]})},R=e=>{const o=z(e);u({type:r.value.type===o?void 0:o})},te=e=>{u({query:e})},oe=()=>{Q.replace({path:f.path}),b()};A(()=>f.query,async e=>{if(typeof e.q!="string"||!e.q.trim())return;const o=x(e);X(),await w(o)}),A(()=>f.query,e=>{e.q&&u(x(e))},{immediate:!0});const se=()=>{const e=r.value.query.trim();e&&ge({path:"/training-grounds/search",query:{q:e,t:r.value.type,l:r.value.langs},replace:!0})};return(e,o)=>{const l=Se,P=me,ae=_e,ne=fe,L=G,re=be;return c(),g("div",Le,[s("div",$e,[s("div",Ie,[s("div",Ne,[a(l,{active:D("Code"),onClick:o[0]||(o[0]=h(n=>R("Code"),["prevent"]))},{default:i(()=>[...o[2]||(o[2]=[_(" Code ",-1)])]),_:1},8,["active"]),a(l,{active:D("Interview"),onClick:o[1]||(o[1]=h(n=>R("Interview"),["prevent"]))},{default:i(()=>[...o[3]||(o[3]=[_(" Interview ",-1)])]),_:1},8,["active"])]),s("div",Qe,[(c(),g(E,null,F(O,n=>a(l,{key:n,active:Z(n),onClick:h(U=>ee(n),["prevent"])},{default:i(()=>[_(v(n),1)]),_:2},1032,["active","onClick"])),64))])]),s("form",{onSubmit:h(se,["prevent"])},[s("div",Ve,[s("div",ze,[a(P,{"model-value":t(r).query,placeholder:"for loops",submit:"","aria-label":"Search Challenges","onUpdate:modelValue":te},null,8,["model-value"]),!t(m)&&t(r).query?(c(),g("button",{key:0,type:"button",class:"w-4 h-4 absolute right-2 top-0",onClick:h(oe,["stop"])},[a(ae,{"stroke-width":1.5,class:""})])):de("",!0)]),a(L,{type:"submit",color:"gray",disabled:!t(r).query?.trim()||t(m),class:"w-24"},{default:i(()=>[t(m)?(c(),N(ne,{key:0,"stroke-width":1.5,class:"w-5 h-5 animate-spin"})):(c(),g("span",De,"Search"))]),_:1},8,["disabled"])])],32)]),$(s("div",Re,[s("p",null,'No challenges found for "'+v(t(p).query)+'"',1)],512),[[I,t(k)&&!t(m)&&t(d).length===0]]),$(s("div",Ue,[(c(!0),g(E,null,F(t(T),(n,U)=>(c(),N(re,{key:n.UUID,title:n.Title,uuid:n.UUID,topics:n.Topics,"average-rating":n.AvgRating,"rating-count":n.RatingCount,number:(t(C)-1)*10+(U+1),class:"max-w-2xl w-full"},null,8,["title","uuid","topics","average-rating","rating-count","number"]))),128))],512),[[I,t(d).length!==0]]),$(s("div",Ae,[a(L,{color:"outline",disabled:t(C)===1,onClick:t(W)},{default:i(()=>[...o[4]||(o[4]=[_(" ← Prev ",-1)])]),_:1},8,["disabled","onClick"]),s("p",Ee," Showing "+v(t(B)[0])+"-"+v(t(B)[1])+" of "+v(t(S)),1),a(L,{color:"outline",disabled:t(B)[1]===t(S),onClick:t(J)},{default:i(()=>[...o[5]||(o[5]=[_(" Next → ",-1)])]),_:1},8,["disabled","onClick"])],512),[[I,t(d).length>0&&t(q)>1]])])}}}),Me={class:"bg-image-blue relative w-full min-h-screen"},je={class:"w-full flex absolute"},ut=M({__name:"search",setup(H){const{prefetchChallenges:y}=he(),b=j(),w=ve(()=>b.query),{status:u,error:x}=ye(w);return we(()=>{if(x.value)throw Ce({statusCode:500,statusMessage:"Couldn't load search results"})}),xe({title:"Training Grounds Search",description:"Search Boot.dev's archive of thousands of coding challenges and interview practice material"}),(r,p)=>{const d=le,m=G,k=Fe,T=Te,C=qe,S=Be,q=Pe;return c(),N(q,null,{default:i(()=>[a(d,{ready:!w.value,status:[t(u)]},null,8,["ready","status"]),s("div",Me,[s("div",je,[a(m,{link:"/training-grounds",color:"outline",class:"absolute -right-4 top-4 text-xs sm:text-sm",onMouseenter:t(y)},{default:i(()=>[...p[0]||(p[0]=[_(" ← Back ",-1)])]),_:1},8,["onMouseenter"])]),a(T,{title:"Challenge Catalog",subtitle:"Don't want to wait for Boots to write a new challenge? Search for a premade challenge below.","is-h1":""},{main:i(()=>[a(k)]),_:1})]),a(C,{gem:""}),a(S,{class:"flex grow"})]),_:1})}}});export{ut as default};
