import{d as A,N as se,j as p,r as j,m as n,o,c as k,A as i,b as t,C as c,bw as $,w as b,am as L,aB as ne,F as P,B as F,n as s,_ as K,a as M,W as fe,bz as tt,bA as ot,bB as nt,bC as _,bD as it,bE as st,al as at,bF as ie,E as O,Q as ve,g as lt,bG as rt,l as he,at as ct,bH as ut,bI as dt,I as mt,bJ as ft,z as vt,aJ as ht,i as U,af as pt,G as pe,aG as gt,a_ as yt,L as xt,e as _t,X as kt,bd as bt,V as wt,bK as Ct,as as Nt}from"./Djz0RQIo.js";import{_ as Tt}from"./CBLkfl4i.js";import{g as It}from"./DvE5EybM.js";import{C as Lt,a as Mt}from"./0YUWycGk.js";import{g as Bt}from"./CSmVOpRL.js";import{u as $t}from"./I2833azj.js";const At={class:"group flex flex-col items-center justify-center"},Et=["href"],Pt={class:"flex flex-row items-center space-x-6 xl:space-x-10"},Ht=["href"],St=["onClick","onKeydown"],Dt=A({__name:"TopNavItem",props:{text:{},path:{default:""},onClick:{type:Function,default:void 0},external:{type:Boolean,default:!1},subMenuItems:{default:void 0}},setup(e){const m=e,g=se(),v=p(()=>g.path===m.path),h=j(!1);return(u,l)=>{const C=K;return o(),n("div",At,[e.external&&e.path?(o(),n("a",{key:0,href:e.path,class:"relative flex flex-col items-center justify-center rounded-sm px-3 py-4 text-gray-300 hover:text-white",target:"_blank"},[t("span",null,c(e.text),1)],8,Et)):e.onClick?(o(),n("div",{key:1,class:"relative flex cursor-pointer flex-col items-center justify-center rounded-sm px-3 py-4 text-gray-300 hover:text-white",tabindex:"0",onClick:l[0]||(l[0]=(...d)=>e.onClick&&e.onClick(...d)),onKeydown:[l[1]||(l[1]=$((...d)=>e.onClick&&e.onClick(...d),["enter"])),l[2]||(l[2]=$((...d)=>e.onClick&&e.onClick(...d),["space"]))]},[t("span",null,c(e.text),1)],32)):e.path?(o(),k(C,{key:2,to:e.path,class:L(["relative flex flex-col items-center justify-center rounded-sm px-3 py-4 text-gray-300 hover:text-white",{"text-white":v.value}]),onFocus:l[3]||(l[3]=d=>h.value=!0),onBlur:l[4]||(l[4]=d=>h.value=!1)},{default:b(()=>[t("span",null,c(e.text),1)]),_:1},8,["to","class"])):i("",!0),t("div",{class:L(["pointer-events-none absolute top-[9px] z-elevated flex w-full max-w-36 grow-0 flex-col items-center opacity-0 duration-150 group-hover:opacity-100 group-hover:duration-0",{"opacity-100":v.value}])},[...l[11]||(l[11]=[ne('<svg viewBox="0 0 179 51" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g opacity="0.4" filter="url(#filter0_f_32_1218)"><ellipse cx="89.5" cy="50.5" rx="48.5" ry="9.5" fill="#E5AE3C"></ellipse></g><path d="M98 52H100.414L98.7071 50.2929L91.4142 43C90.6332 42.219 89.3668 42.219 88.5858 43L81.2929 50.2929L79.5858 52H82H98Z" fill="url(#paint0_linear_32_1218)"></path><path d="M98 52H100.414L98.7071 50.2929L91.4142 43C90.6332 42.219 89.3668 42.219 88.5858 43L81.2929 50.2929L79.5858 52H82H98Z" fill="url(#pattern0_32_1218)" fill-opacity="0.2"></path><path d="M98 52H100.414L98.7071 50.2929L91.4142 43C90.6332 42.219 89.3668 42.219 88.5858 43L81.2929 50.2929L79.5858 52H82H98Z" stroke="url(#paint1_linear_32_1218)" stroke-width="2"></path><defs><filter id="filter0_f_32_1218" x="0.400002" y="0.400002" width="178.2" height="100.2" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feGaussianBlur stdDeviation="20.3" result="effect1_foregroundBlur_32_1218"></feGaussianBlur></filter><pattern id="pattern0_32_1218" patternContentUnits="objectBoundingBox" width="1" height="1"><use xlink:href="#image0_32_1218" transform="matrix(0.0038125 0 0 0.007625 -1.40625 -0.5)"></use></pattern><linearGradient id="paint0_linear_32_1218" x1="90" y1="43" x2="90" y2="51" gradientUnits="userSpaceOnUse"><stop stop-color="white"></stop><stop offset="1" stop-color="#CF9F3A"></stop></linearGradient><linearGradient id="paint1_linear_32_1218" x1="90" y1="43" x2="90" y2="51" gradientUnits="userSpaceOnUse"><stop stop-color="#B79652"></stop><stop offset="1" stop-opacity="0"></stop></linearGradient></defs></svg><svg viewBox="0 0 135 1" fill="none" xmlns="http://www.w3.org/2000/svg"><line y1="0.5" x2="135" y2="0.5" stroke="url(#paint0_linear_25_58)"></line><defs><linearGradient id="paint0_linear_25_58" x1="0" y1="1" x2="135" y2="1" gradientUnits="userSpaceOnUse"><stop offset="0.01" stop-color="#3C424F" stop-opacity="0.0"></stop><stop offset="0.40" stop-color="#E5AE3C"></stop><stop offset="0.5" stop-color="#E5AE3C"></stop><stop offset="0.60" stop-color="#E5AE3C"></stop><stop offset="0.99" stop-color="#3C424F" stop-opacity="0.0"></stop></linearGradient></defs></svg>',2)])],2),e.subMenuItems?(o(),n("div",{key:3,class:L(["bg-image-blue top-nav-bar-height under-top-nav-bar absolute -right-8 z-elevated w-screen border-b border-gray-600 group-hover:visible group-hover:opacity-100 group-hover:delay-0",h.value?"visible delay-0":"invisible delay-100"])},null,2)):i("",!0),e.subMenuItems?(o(),n("div",{key:4,class:L(["top-nav-bar-height under-top-nav-bar absolute z-elevated flex items-center group-hover:visible group-hover:duration-0",h.value?"visible duration-0":"invisible duration-150"])},[t("div",Pt,[(o(!0),n(P,null,F(e.subMenuItems,d=>(o(),n("div",{key:d.text,class:"group/item relative cursor-pointer text-gray-300 hover:text-white"},[d.external&&d.path?(o(),n("a",{key:0,href:d.path,class:"px-3 py-4",target:"_blank",onFocus:l[5]||(l[5]=B=>h.value=!0),onBlur:l[6]||(l[6]=B=>h.value=!1)},[t("span",null,c(d.text),1)],40,Ht)):d.path?(o(),k(C,{key:1,to:d.path,class:L(["px-3 py-4",{"text-white":s(g).path===d.path}]),onFocus:l[7]||(l[7]=B=>h.value=!0),onBlur:l[8]||(l[8]=B=>h.value=!1)},{default:b(()=>[t("span",null,c(d.text),1)]),_:2},1032,["to","class"])):d.onClick?(o(),n("div",{key:2,tabindex:"0",class:"px-3 py-4",onClick:d.onClick,onKeydown:[$(d.onClick,["enter"]),$(d.onClick,["space"])],onFocus:l[9]||(l[9]=B=>h.value=!0),onBlur:l[10]||(l[10]=B=>h.value=!1)},[t("span",null,c(d.text),1)],40,St)):i("",!0),t("div",{class:L(["pointer-events-none absolute left-1/2 z-elevated w-36 -translate-x-1/2 opacity-0 group-hover/item:opacity-100",{"opacity-100":s(g).path===d.path,"-top-[7px]":d.path,"top-[9px]":d.onClick}])},[...l[12]||(l[12]=[ne('<svg viewBox="0 0 179 51" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g opacity="0.4" filter="url(#filter0_f_32_1218)"><ellipse cx="89.5" cy="50.5" rx="48.5" ry="9.5" fill="#E5AE3C"></ellipse></g><path d="M98 52H100.414L98.7071 50.2929L91.4142 43C90.6332 42.219 89.3668 42.219 88.5858 43L81.2929 50.2929L79.5858 52H82H98Z" fill="url(#paint0_linear_32_1218)"></path><path d="M98 52H100.414L98.7071 50.2929L91.4142 43C90.6332 42.219 89.3668 42.219 88.5858 43L81.2929 50.2929L79.5858 52H82H98Z" fill="url(#pattern0_32_1218)" fill-opacity="0.2"></path><path d="M98 52H100.414L98.7071 50.2929L91.4142 43C90.6332 42.219 89.3668 42.219 88.5858 43L81.2929 50.2929L79.5858 52H82H98Z" stroke="url(#paint1_linear_32_1218)" stroke-width="2"></path><defs><filter id="filter0_f_32_1218" x="0.400002" y="0.400002" width="178.2" height="100.2" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feGaussianBlur stdDeviation="20.3" result="effect1_foregroundBlur_32_1218"></feGaussianBlur></filter><pattern id="pattern0_32_1218" patternContentUnits="objectBoundingBox" width="1" height="1"><use xlink:href="#image0_32_1218" transform="matrix(0.0038125 0 0 0.007625 -1.40625 -0.5)"></use></pattern><linearGradient id="paint0_linear_32_1218" x1="90" y1="43" x2="90" y2="51" gradientUnits="userSpaceOnUse"><stop stop-color="white"></stop><stop offset="1" stop-color="#CF9F3A"></stop></linearGradient><linearGradient id="paint1_linear_32_1218" x1="90" y1="43" x2="90" y2="51" gradientUnits="userSpaceOnUse"><stop stop-color="#B79652"></stop><stop offset="1" stop-opacity="0"></stop></linearGradient></defs></svg><svg viewBox="0 0 135 1" fill="none" xmlns="http://www.w3.org/2000/svg"><line y1="0.5" x2="135" y2="0.5" stroke="url(#paint0_linear_25_58)"></line><defs><linearGradient id="paint0_linear_25_58" x1="0" y1="1" x2="135" y2="1" gradientUnits="userSpaceOnUse"><stop offset="0.01" stop-color="#3C424F" stop-opacity="0.0"></stop><stop offset="0.40" stop-color="#E5AE3C"></stop><stop offset="0.5" stop-color="#E5AE3C"></stop><stop offset="0.60" stop-color="#E5AE3C"></stop><stop offset="0.99" stop-color="#3C424F" stop-opacity="0.0"></stop></linearGradient></defs></svg>',2)])],2)]))),128))])],2)):i("",!0)])}}}),Ut={class:"absolute right-3 top-3 text-gray-400"},Ft={tabindex:"0"},ge=A({__name:"CloseIcon",props:{hide:{type:Function}},setup(e){return(m,g)=>{const v=tt,h=K,u=fe;return o(),n("div",Ut,[M(u,{position:"left"},{tip:b(()=>[...g[0]||(g[0]=[t("p",null,"Close",-1)])]),default:b(()=>[M(h,{class:"cursor-pointer hover:text-gray-250",target:"_blank",onClick:e.hide,onKeydown:$(e.hide,["enter"])},{default:b(()=>[t("div",Ft,[M(v,{"stroke-width":"1.5",class:"h-8 w-8"})])]),_:1},8,["onClick","onKeydown"])]),_:1})])}}}),Gt={class:"flex items-center space-x-4 text-left"},Rt={class:"h-10 w-10"},jt={key:0,class:"h-10 w-10"},Ot=["src","alt"],zt={key:1,class:"h-10 w-10"},Vt=["src","alt"],Kt={key:2,class:"h-10 w-10"},Yt=["src"],Xt={key:3,class:"h-10 w-10"},Jt=["src","alt"],Zt={key:4,class:"h-10 w-10"},qt=["src","alt"],Wt={key:5,class:"h-10 w-10"},Qt=["src"],eo={key:6,class:"h-10 w-10"},to=["src"],oo={key:7,class:"h-10 w-10"},no=["src"],io={key:8,class:"h-10 w-10"},so=["src"],ao={key:9,class:"h-10 w-10"},lo=["src"],ro={key:10,class:"h-10 w-10"},co=["src"],uo={key:11,class:"h-10 w-10"},mo=["src"],fo={key:12,class:"h-10 w-10"},vo=["src"],ho={key:13,class:"h-10 w-10"},po=["src"],go={key:14,class:"h-10 w-10"},yo=["src"],xo={key:15,class:"h-10 w-10"},_o=["src"],ko={key:16,class:"h-10 w-10"},bo=["src"],wo={key:0},Co={class:"text-sm"},No={key:1},To={class:"text-sm"},Io={key:2},Lo={key:3},Mo={class:"text-sm"},Bo={key:4},$o={class:"text-sm"},Ao={key:5},Eo={class:"text-sm"},Po={key:6},Ho={class:"text-sm"},So={key:7},Do={key:8},Uo={key:9},Fo={key:10},Go={key:11},Ro={key:12},jo={key:13},Oo={key:14},zo={class:"mb-1 font-semibold"},Vo={class:"text-sm"},Ko={key:15},Yo={class:"text-sm"},Xo={key:16},Jo={key:17},Zo={class:"mb-1 font-semibold"},qo={class:"text-sm"},Wo={key:0,class:"mx-3 h-2 w-2 rounded-full bg-yellow-500 px-1"},Qo=A({__name:"TrayItem",props:{item:{}},setup(e){const m=e,{clickNotification:g}=ot(),{onNotificationHovered:v}=nt(),h=()=>{g(m.item)},u=()=>{v(m.item)},l=p(()=>!!m.item.InAppViewedAt),C=p(()=>m.item.NotificationType==="announcement"?d(m.item.NotificationData.Announcement.Text):null),d=B=>{const N=It({allowHtml:!1,useHighlight:!1}).parse(B,{});for(let T=0;T<N.length;T++)if(N[T]?.type==="heading_open"&&T+1<N.length){const E=N[T+1];if(E&&E.type==="inline")return E.content.trim()}return null};return(B,r)=>{const N=at;return o(),n("button",{class:L([{"opacity-50":l.value},"flex min-h-24 w-full min-w-72 cursor-pointer items-center justify-between pl-4 transition duration-150 hover:bg-gray-700"]),tabindex:"0",onClick:h,onMouseenter:u},[t("div",Gt,[t("div",Rt,[e.item.NotificationType==="achievement_earned"?(o(),n("div",jt,[t("img",{src:s(_)(e.item),alt:e.item.NotificationData.AchievementEarned.Title},null,8,Ot)])):i("",!0),e.item.NotificationType==="challenge_pregenerated"?(o(),n("div",zt,[t("img",{src:s(_)(e.item),alt:s(it)(e.item.NotificationData.ChallengePregenerated.ProgLang??"")},null,8,Vt)])):i("",!0),e.item.NotificationType==="chest_earned"?(o(),n("div",Kt,[t("img",{src:s(_)(e.item),alt:"chest"},null,8,Yt)])):i("",!0),e.item.NotificationType==="boss_event_start"?(o(),n("div",Xt,[t("img",{width:"40",height:"40",class:"rounded-full border-2 border-gray-500",loading:"lazy",src:s(_)(e.item),alt:e.item.NotificationData.BossEvent.BossName},null,8,Jt)])):i("",!0),e.item.NotificationType==="track_completed"||e.item.NotificationType==="course_completed"?(o(),n("div",Zt,[t("img",{src:s(_)(e.item),alt:e.item.NotificationData.CertificateEarned.Title},null,8,qt)])):i("",!0),e.item.NotificationType==="community_join_reminder"?(o(),n("div",Wt,[t("img",{src:s(_)(e.item),alt:"discord"},null,8,Qt)])):i("",!0),e.item.NotificationType==="new_user_reward_reminder"?(o(),n("div",eo,[t("img",{src:s(_)(e.item),alt:"chest"},null,8,to)])):i("",!0),e.item.NotificationType==="quest_available"?(o(),n("div",oo,[t("img",{src:s(_)(e.item),alt:"quest"},null,8,no)])):i("",!0),e.item.NotificationType==="daily_streak_expiry"?(o(),n("div",io,[t("img",{src:s(_)(e.item),alt:"streak expiring"},null,8,so)])):i("",!0),e.item.NotificationType==="frozen_flame_consumed"?(o(),n("div",ao,[t("img",{src:s(_)(e.item),alt:"frozen flame"},null,8,lo)])):i("",!0),e.item.NotificationType==="ember_consumed"?(o(),n("div",ro,[t("img",{src:s(_)(e.item),alt:"Ember Consumed"},null,8,co)])):i("",!0),e.item.NotificationType==="joined_league"?(o(),n("div",uo,[t("img",{src:s(_)(e.item),alt:"Crown"},null,8,mo)])):i("",!0),e.item.NotificationType==="on_daily_xp_leaderboard"?(o(),n("div",fo,[t("img",{src:s(_)(e.item),alt:"Crown"},null,8,vo)])):i("",!0),e.item.NotificationType==="on_daily_league_leaderboard_top"?(o(),n("div",ho,[t("img",{src:s(_)(e.item),alt:"Crown"},null,8,po)])):i("",!0),e.item.NotificationType==="announcement"?(o(),n("div",go,[t("img",{src:s(_)(e.item),alt:"announcement"},null,8,yo)])):i("",!0),e.item.NotificationType==="discord_command_reward"?(o(),n("div",xo,[t("img",{src:s(_)(e.item),alt:"reward"},null,8,_o)])):i("",!0),e.item.NotificationType==="league_placement_earned"?(o(),n("div",ko,[t("img",{src:s(_)(e.item),alt:"league badge"},null,8,bo)])):i("",!0)]),t("div",null,[e.item.NotificationType==="boss_event_start"?(o(),n("div",wo,[r[0]||(r[0]=t("div",{class:"mb-1 font-semibold"},"Boss Event Started!",-1)),t("div",Co," Join the battle against "+c(e.item.NotificationData.BossEvent.BossName)+"! ",1)])):i("",!0),e.item.NotificationType==="achievement_earned"?(o(),n("div",No,[r[1]||(r[1]=t("div",{class:"mb-1 font-semibold"},"Achievement Earned!",-1)),t("div",To,c(e.item.NotificationData.AchievementEarned.Title),1)])):i("",!0),e.item.NotificationType==="quest_available"?(o(),n("div",Io,[...r[2]||(r[2]=[t("div",{class:"mb-1 font-semibold"},"Quest Available!",-1),t("div",{class:"text-sm"},"You can accept a new quest!",-1)])])):i("",!0),e.item.NotificationType==="challenge_pregenerated"?(o(),n("div",Lo,[r[3]||(r[3]=t("div",{class:"mb-1 font-semibold"},"New Challenge Available!",-1)),t("div",Mo,c(e.item.NotificationData.ChallengePregenerated.Title)+" ("+c(s(st)(e.item.NotificationData.ChallengePregenerated.Type))+") ",1)])):i("",!0),e.item.NotificationType==="chest_earned"?(o(),n("div",Bo,[r[4]||(r[4]=t("div",{class:"mb-1 font-semibold"},"Chest Earned!",-1)),t("div",$o,c(e.item.NotificationData.ChestEarned.Description),1)])):i("",!0),e.item.NotificationType==="track_completed"?(o(),n("div",Ao,[r[5]||(r[5]=t("div",{class:"mb-1 font-semibold"},"Career Path Complete!",-1)),t("div",Eo,c(e.item.NotificationData.CertificateEarned.Title),1)])):i("",!0),e.item.NotificationType==="course_completed"?(o(),n("div",Po,[r[6]||(r[6]=t("div",{class:"mb-1 font-semibold"},"Course Complete!",-1)),t("div",Ho,c(e.item.NotificationData.CertificateEarned.Title),1)])):i("",!0),e.item.NotificationType==="community_join_reminder"?(o(),n("div",So,[...r[7]||(r[7]=[t("div",{class:"mb-1 font-semibold"},"Join The Community!",-1),t("div",{class:"text-sm"}," Join our Discord community to get help and make new friends ",-1)])])):i("",!0),e.item.NotificationType==="new_user_reward_reminder"?(o(),n("div",Do,[...r[8]||(r[8]=[t("div",{class:"mb-1 font-semibold"},"Welcome to Boot.dev!",-1),t("div",{class:"text-sm"},"Check your email for a free chest!",-1)])])):i("",!0),e.item.NotificationType==="daily_streak_expiry"?(o(),n("div",Uo,[...r[9]||(r[9]=[t("div",{class:"mb-1 font-semibold"},"Streak Lost!",-1),t("div",{class:"text-sm"},"Complete a lesson to start a new streak!",-1)])])):i("",!0),e.item.NotificationType==="frozen_flame_consumed"?(o(),n("div",Fo,[...r[10]||(r[10]=[t("div",{class:"mb-1 font-semibold"},"Frozen Flame Consumed!",-1),t("div",{class:"text-sm"},"Your streak freezes for four days!",-1)])])):i("",!0),e.item.NotificationType==="on_daily_xp_leaderboard"?(o(),n("div",Go,[...r[11]||(r[11]=[t("div",{class:"mb-1 font-semibold"},"You're on the Leaderboard!",-1),t("div",{class:"text-sm"},"Can you reach 1st?",-1)])])):i("",!0),e.item.NotificationType==="on_daily_league_leaderboard_top"?(o(),n("div",Ro,[...r[12]||(r[12]=[t("div",{class:"mb-1 font-semibold"},"You're in the lead!",-1),t("div",{class:"text-sm"},"You are leading your league!",-1)])])):i("",!0),e.item.NotificationType==="discord_command_reward"?(o(),n("div",jo,[...r[13]||(r[13]=[t("div",{class:"mb-1 font-semibold"},"You Got a Reward!",-1),t("div",{class:"text-sm"},"The boot.dev team sent you a reward!",-1)])])):i("",!0),e.item.NotificationType==="joined_league"?(o(),n("div",Oo,[t("div",zo,c(e.item.NotificationData.JoinedLeague.LeagueName)+" league ",1),t("div",Vo," You've joined the "+c(e.item.NotificationData.JoinedLeague.LeagueName)+" league! ",1)])):i("",!0),e.item.NotificationType==="announcement"?(o(),n("div",Ko,[r[14]||(r[14]=t("div",{class:"mb-1 font-semibold"},"New announcement",-1)),t("div",Yo,c(C.value!==null?C.value:"Click to read more..."),1)])):i("",!0),e.item.NotificationType==="ember_consumed"?(o(),n("div",Xo,[...r[15]||(r[15]=[t("div",{class:"mb-1 font-semibold"},"Ember Consumed!",-1),t("div",{class:"text-sm"},"Your streak was protected for a day!",-1)])])):i("",!0),e.item.NotificationType==="league_placement_earned"?(o(),n("div",Jo,[t("div",Zo,c(e.item.NotificationData.LeaguePlacementEarned.LeagueName)+" League ",1),t("div",qo," You placed "+c(e.item.NotificationData.LeaguePlacementEarned.Rank)+c(e.item.NotificationData.LeaguePlacementEarned.Rank===1?"st":e.item.NotificationData.LeaguePlacementEarned.Rank===2?"nd":"rd")+"! ",1)])):i("",!0),M(N,{class:"mt-1 text-xs text-gray-400",datetime:e.item.CreatedAt,locale:"en-US",relative:""},null,8,["datetime"])])]),e.item.InAppViewedAt?i("",!0):(o(),n("div",Wo))],34)}}}),en={class:"bg-image-blue md:right-18 fixed inset-0 z-elevated text-white md:inset-auto md:top-10 md:mt-8 md:flex md:h-96 md:w-80 md:flex-col md:rounded-sm md:border md:border-yellow-700 md:shadow-lg"},tn={class:"flex flex-row items-center justify-between border-b border-gray-600 p-4 md:ml-4"},on={key:0,class:"p-5 opacity-80 md:ml-5 md:mt-3"},nn={class:"grow overflow-y-auto"},sn=A({__name:"NotificationTray",setup(e){const m=ie(),{loadNotifications:g,toggleTray:v,hideTray:h}=m,{lastKeyPress:u}=O(ve()),{notifications:l}=O(m),{errToast:C}=lt(),d=p(()=>l.value),B=p(()=>d.value?.some(N=>!N.InAppViewedAt)),{mutate:r}=rt({mutation:ut,onMutate(){const N=new Set(l.value.filter(I=>!I.InAppViewedAt).map(I=>I.UUID)),T=new Date().toISOString();return l.value.forEach(I=>{N.has(I.UUID)&&(I.InAppViewedAt=T)}),()=>{l.value.forEach(I=>{N.has(I.UUID)&&(I.InAppViewedAt=void 0)})}},onSuccess(){dt(g)},onError:()=>C("Failed to mark all notifications as read. Please try again.")});return he(()=>{u.value==="escape"&&h()}),(N,T)=>{const I=ge,E=Qo;return o(),n("div",en,[t("div",tn,[T[1]||(T[1]=t("h2",{class:"mt-2 text-lg font-semibold md:text-base"},"Notifications",-1)),B.value?(o(),n("button",{key:0,type:"button",class:"textlink-secondary mr-12 text-xs md:ml-2 md:mr-6 md:mt-2",onClick:T[0]||(T[0]=ct((...H)=>s(r)&&s(r)(...H),["stop"]))}," Mark all as read ")):i("",!0),M(I,{class:"md:hidden",hide:s(v)},null,8,["hide"])]),d.value?.length===0?(o(),n("div",on," You have no notifications ")):i("",!0),t("div",nn,[(o(!0),n(P,null,F(d.value,H=>(o(),k(E,{key:H.UUID,item:H},null,8,["item"]))),128))])])}}}),an={class:"rounded-none"},ln={key:0,class:"mx-4 mb-2 mt-2 border-b border-gray-600"},rn=["href"],cn=A({__name:"ProfileMenuItem",props:{item:{},showDivider:{type:Boolean},hide:{type:Function}},setup(e){const m=e,g=se(),v=()=>{m.item.onClick&&m.item.onClick(),m.hide()},h=()=>{m.item.onHover?.()};return(u,l)=>{const C=K;return o(),n("div",an,[e.showDivider?(o(),n("div",ln)):i("",!0),e.item.external&&e.item.path?(o(),n("a",{key:1,href:e.item.path,class:"relative flex flex-col items-center justify-center px-3 py-2 text-gray-300 hover:bg-gray-700 hover:text-white",target:"_blank"},[t("span",null,c(e.item.text),1)],8,rn)):e.item.onClick?(o(),n("button",{key:2,class:"relative flex cursor-pointer flex-col items-center justify-center px-3 py-2 text-gray-300 hover:bg-gray-700 hover:text-white w-full border-0 bg-transparent",onClick:v,onMouseenter:h},[t("span",null,c(e.item.text),1)],32)):e.item.path?(o(),k(C,{key:3,to:e.item.path,class:L(["relative flex flex-col items-center justify-center px-3 py-2 text-gray-300 hover:bg-gray-700 hover:text-white w-full",{"text-white":s(g).path===e.item.path}]),onMouseenter:h},{default:b(()=>[t("span",null,c(e.item.text),1)]),_:1},8,["to","class"])):i("",!0)])}}}),un={class:"bg-image-blue fixed inset-0 z-elevated text-white md:absolute md:inset-auto md:-right-12 md:top-9 md:mt-8 md:flex md:w-44 md:flex-col md:rounded-sm md:border md:border-yellow-700 md:shadow-lg"},dn={class:"pt-3"},mn=A({__name:"ProfileMenu",props:{hide:{type:Function},menuItems:{}},setup(e){const m=e,{lastKeyPress:g}=O(ve());return he(()=>{g.value==="escape"&&m.hide()}),(v,h)=>{const u=ge,l=cn;return o(),n("div",un,[M(u,{class:"z-elevated md:hidden",hide:e.hide},null,8,["hide"]),t("div",dn,[(o(!0),n(P,null,F(e.menuItems,(C,d)=>(o(),k(l,{key:C.text,item:C,"show-divider":d+1===e.menuItems.length,hide:e.hide},null,8,["item","show-divider","hide"]))),128))])])}}}),fn=""+new URL("notification-silver.DKu4PdxS.png",import.meta.url).href,vn=""+new URL("notification-gold-active.aZ0Ku3sV.png",import.meta.url).href,hn={class:"bg-image-blue"},pn={class:"border-b border-gray-600"},gn={class:"top-nav-bar-height mx-auto px-2 lg:px-8"},yn={class:"relative z-popup flex h-full items-center justify-between"},xn={class:"flex flex-1 items-center justify-center lg:justify-between"},_n={class:"flex flex-row items-center"},kn={class:"hidden lg:flex"},bn={class:"flex h-full items-center text-sm text-gray-200 xl:space-x-4"},wn={class:"flex flex-row items-center gap-3"},Cn={key:0,class:"relative mx-2"},Nn=["src"],Tn={key:0,class:"absolute left-1.5 top-0.5 -translate-y-1/2 translate-x-1/2 transform"},In={class:"inline-flex items-center rounded-md bg-red-600 px-1.5 py-0.5 text-xs font-semibold leading-4 text-white"},Ln={class:"pt-2 font-mono text-xs italic text-gray-300"},Mn=["src"],Bn={class:"hidden h-7 w-full lg:flex lg:min-w-24 xl:min-w-32"},$n={key:3,class:"arcuata hidden w-max lg:block"},An={class:"font-bold"},En={class:"text-xs text-gray-400"},Pn={class:"relative flex flex-col items-center"},Hn={class:"space-y-1 px-2 pb-3 pt-2"},Sn={class:"flex flex-col gap-2"},Dn=["href"],Un=["onClick"],Fn={key:3,class:"mt-3 border-t border-gray-600 py-2"},Gn=["href"],Rn=["onClick"],jn={key:0,class:"block px-3 text-base font-medium text-gray-300 hover:text-white sm:text-lg"},On=A({__name:"TopNav",setup(e){const m=se(),g=mt(),{isLoggedIn:v,curRoleOrder:h,user:u,curRoleAchievements:l,curEngagementAchievements:C,curMilestoneAchievements:d,curSharpshooterAchievements:B,curBannerlordAchievements:r,curFellowshipAchievements:N,curBossParticipationAchievements:T}=O(g),{preloadChallengeHistory:I}=ft(),{toggleTray:E,hideTray:H}=ie(),{numNotifications:z,isTrayShowing:Y}=O(ie()),ye=p(()=>z.value>0?vn:fn),S=j(!1),xe=()=>{S.value=!S.value};vt(()=>S.value,y=>{y?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")},{immediate:!0});const _e=p(()=>z.value>99?"99+":z.value),ke=p(()=>v.value?"/dashboard":"/"),{toggleModalQuery:V}=ht(),be=()=>[l.value,C.value,d.value,B.value,r.value,N.value,T.value].filter(Boolean).flatMap(x=>x.map(R=>R.ThumbnailURL).filter(Boolean)),ae=j(!1),we=y=>{for(const x of y){const R=new Image;R.src=x}},Ce=()=>{if(ae.value)return;ae.value=!0;const y=be();we(y)},Ne=()=>{V("achievements")},Te=()=>{V("boss")},Ie=()=>{V("settings")},{handleLogout:Le}=$t(),le=U("logoutModal"),Me=async()=>{v.value&&le.value?.show()},{prefetchDashboard:re,prefetchCatalogue:Be,prefetchProfile:$e,prefetchRAF:Ae,prefetchLeaderboard:Ee,prefetchBookmarks:Pe,prefetchChallenges:He}=pt(),a=p(()=>({dashboard:{text:"Dashboard",path:"/dashboard",onHover:re},courses:{text:"Courses",path:"/courses",onHover:Be},pathPythonGo:{text:"Backend Path - Golang",path:"/paths/backend-python-golang"},pathPythonTypeScript:{text:"Backend Path - TypeScript",path:"/paths/backend-python-typescript"},pricing:{text:u.value?.IsMember?"Billing":"Pricing",path:"/pricing"},gifts:{text:"Gifts",path:"/gifts"},redeem:{text:"Redeem",path:"/redeem"},teams:{text:"Teams",path:"/teams"},expense:{text:"Expense",path:"/expense"},community:{text:"Community",path:"/community"},leaderboard:{text:"Leaderboard",path:"/leaderboard",onHover:Ee},boss:{text:"Boss",onClick:Te},youtube:{text:"Youtube",path:"https://www.youtube.com/@bootdotdev",external:!0},podcast:{text:"Podcast",path:"https://www.backendbanter.fm/",external:!0},lore:{text:"Lore",path:"/lore"},blog:{text:"Blog",path:"https://blog.boot.dev",external:!0},profile:{text:"Profile",path:u.value&&u.value.Handle?`/u/${u.value.Handle}`:"/courses",onHover:$e},affiliates_management:{text:"Affiliates",path:"/affiliates/management"},affiliates_dashboard:{text:"Affiliates",path:"/affiliates/dashboard"},affiliates_payouts_due:{text:"Due",path:"/affiliates/payouts/due"},affiliates_payouts_pending:{text:"Pending",path:"/affiliates/payouts/pending"},affiliates_payouts_paid:{text:"Paid",path:"/affiliates/payouts/paid"},settings:{text:"Settings",onClick:Ie},achievements:{text:"Achievements",onClick:Ne,onHover:Ce},recruit:{text:"Recruit a friend",path:"/recruit-a-friend",onHover:Ae},logout:{text:"Logout",onClick:Me},training_grounds:{text:"Training",path:"/training-grounds",onHover:He},challenge_search:{text:"Challenge Search",path:"/training-grounds/search"},challenge_history:{text:"Challenge History",path:"/training-grounds/history",onHover:I},bookmarks:{text:"Bookmarks",path:"/bookmarks",onHover:Pe}})),X=p(()=>[a.value.dashboard,{...a.value.courses,subMenuItems:[a.value.pathPythonGo,a.value.pathPythonTypeScript]},{...a.value.training_grounds,subMenuItems:[a.value.challenge_search,a.value.challenge_history]},{...a.value.pricing,subMenuItems:[a.value.gifts,a.value.redeem,a.value.expense,a.value.teams]},{...a.value.community,subMenuItems:[a.value.boss,a.value.youtube,a.value.podcast,a.value.lore,a.value.blog]},a.value.leaderboard]),Se=p(()=>[{...a.value.courses,subMenuItems:[a.value.pathPythonGo,a.value.pathPythonTypeScript]},{...a.value.training_grounds,subMenuItems:[a.value.challenge_search]},{...a.value.pricing,subMenuItems:[a.value.gifts,a.value.redeem,a.value.teams]},{...a.value.community,subMenuItems:[a.value.youtube,a.value.podcast,a.value.lore,a.value.blog]},a.value.leaderboard]),De=p(()=>X.value.concat([{...a.value.affiliates_management,subMenuItems:[a.value.affiliates_payouts_due,a.value.affiliates_payouts_pending,a.value.affiliates_payouts_paid]}])),Ue=p(()=>X.value.concat([{...a.value.affiliates_dashboard}])),Fe=p(()=>[a.value.profile,a.value.settings,a.value.achievements,a.value.recruit,a.value.bookmarks,a.value.logout]),ce=p(()=>v.value?u.value?.IsAdmin?De.value:u.value?.IsAffiliate?Ue.value:X.value:Se.value),Ge=kt("onLoginClick"),ue=p(()=>u.value?.Level||0),Re=p(()=>u.value?u.value.Role===""?"No Role":u.value.Role:"-"),je=p(()=>u.value?u.value.XPForLevel:"-"),Oe=p(()=>u.value?u.value.XPTotalForLevel:"-"),ze=p(()=>{if(!u.value)return 0;let y=u.value.XPForLevel/u.value.XPTotalForLevel*100;return y>100&&(y=100),y}),J=()=>{V("gem-store")},Ve=p(()=>u.value?u.value.Gems:"-"),Z=U("notificationBell"),q=U("notificationTray"),de=y=>{!Y.value||!q.value||!Z.value||q.value.contains(y.target)||Z.value.contains(y.target)||H()},W=U("profileImage"),Q=U("profileMenu"),ee=U("profileMenuIndicator"),D=j(!1),G=()=>{D.value=!D.value,S.value=!1},me=y=>{!D.value||!W.value||!Q.value||!ee.value||W.value.contains(y.target)||ee.value.contains(y.target)||Q.value.contains(y.target)||(D.value=!1)};return pe(()=>{document.addEventListener("click",de),document.addEventListener("click",me)}),gt(()=>{document.removeEventListener("click",de),document.removeEventListener("click",me)}),(y,x)=>{const R=yt,Ke=Tt,te=K,Ye=Dt,Xe=sn,oe=fe,Je=xt,Ze=bt,qe=mn,We=Lt,Qe=Mt,et=wt;return o(),n("div",hn,[M(R,{ref_key:"logoutModal",ref:le,"button-color":"red",heading:"Log Out?",onConfirm:s(Le)},null,8,["onConfirm"]),t("nav",pn,[t("div",gn,[t("div",yn,[t("div",{class:"absolute inset-y-0 left-0 flex items-center lg:hidden"},[t("button",{type:"button",class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-hidden focus:ring-2 focus:ring-inset focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false",onClick:xe},[...x[2]||(x[2]=[ne('<span class="sr-only">Open main menu</span><svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg><svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',3)])])]),t("div",xn,[t("div",{class:L(["hidden shrink-0",[s(u)&&(s(u).IsAdmin||s(u).IsAffiliate)?"xl:flex":"lg:flex"]])},[M(te,{to:ke.value,onMouseenter:s(re)},{default:b(()=>[t("div",_n,[M(Ke,{src:"/img/bootdev-logo-full-small.webp",width:"117",densities:"1x 2x",alt:"Boot.dev"})])]),_:1},8,["to","onMouseenter"])],2),t("div",kn,[t("div",bn,[(o(!0),n(P,null,F(ce.value,f=>(o(),k(Ye,{key:f.text,text:f.text,path:f.path,external:f.external,"sub-menu-items":f.subMenuItems,onClick:f.onClick,onMouseenter:f.onHover},null,8,["text","path","external","sub-menu-items","onClick","onMouseenter"]))),128))])]),t("div",wn,[s(v)?(o(),n("div",{key:0,ref_key:"notificationBell",ref:Z},[M(oe,{position:"bottom",hide:s(Y),class:"z-elevated"},{tip:b(()=>[...x[3]||(x[3]=[t("p",null,"Notifications",-1)])]),default:b(()=>[t("button",{class:"flex h-10 cursor-pointer flex-col items-center justify-center rounded-lg text-lg hover:bg-gray-700",onClick:x[0]||(x[0]=(...f)=>s(E)&&s(E)(...f))},[s(v)?(o(),n("div",Cn,[t("img",{src:ye.value,alt:"","stroke-width":"1.5",class:"inline-block h-6 min-w-6 text-gray-400"},null,8,Nn),x[4]||(x[4]=t("span",{class:"sr-only"},"Toggle notifications",-1)),s(z)?(o(),n("span",Tn,[t("div",In,c(_e.value),1)])):i("",!0)])):i("",!0)]),t("div",{ref_key:"notificationTray",ref:q},[s(Y)?(o(),k(Xe,{key:0})):i("",!0)],512)]),_:1},8,["hide"])],512)):i("",!0),s(v)?(o(),n("div",{key:1,tabindex:"0",class:"mr-[-0.3em] lg:mr-0",onClick:J,onKeydown:[$(J,["enter"]),$(J,["space"])]},[M(oe,{position:"bottom"},{tip:b(()=>[x[5]||(x[5]=t("p",null,"Shop",-1)),t("p",Ln,c(Ve.value)+" Gems ",1)]),default:b(()=>[t("img",{src:s(Bt),alt:"gem bag",class:"h-10 min-w-10 cursor-pointer rounded-lg p-1 hover:bg-gray-700"},null,8,Mn)]),_:1})],32)):i("",!0),s(v)?(o(),k(oe,{key:2,position:"bottom",class:"flex flex-col items-center"},{tip:b(()=>[t("p",null,c(je.value)+" / "+c(Oe.value)+" XP",1)]),default:b(()=>[t("div",Bn,[M(Je,{"percent-complete":ze.value,"user-level":ue.value},null,8,["percent-complete","user-level"])])]),_:1})):i("",!0),s(v)?(o(),n("div",$n,[t("p",An,c(Re.value),1),t("p",En,"Level "+c(ue.value),1)])):i("",!0),t("div",Pn,[t("div",{ref_key:"profileImage",ref:W},[s(v)?(o(),k(Ze,{key:0,"profile-image-u-r-l":s(u)?.ProfileImageURL,"role-order":s(h),class:"h-10 min-w-10",onClick:G},null,8,["profile-image-u-r-l","role-order"])):i("",!0)],512),t("div",{ref_key:"profileMenu",ref:Q},[D.value?(o(),k(qe,{key:0,hide:G,"menu-items":Fe.value},null,8,["menu-items"])):i("",!0)],512)]),s(v)?(o(),n("div",{key:4,ref_key:"profileMenuIndicator",ref:ee,class:"w-6 cursor-pointer py-3 text-gray-300",onClick:G,onKeydown:[$(G,["enter"]),$(G,["space"])]},[D.value?(o(),k(We,{key:0,"stroke-width":"1.5",class:"pointer-events-none h-6 w-6"})):(o(),k(Qe,{key:1,"stroke-width":"1.5",class:"pointer-events-none h-6 w-6"}))],544)):i("",!0),s(v)?i("",!0):(o(),k(et,{key:5,onClick:s(Ge)},{default:b(()=>[...x[6]||(x[6]=[_t(" Sign In ",-1)])]),_:1},8,["onClick"]))])])])]),t("div",{id:"mobile-menu",class:L([{hidden:!S.value,block:S.value},"h-dvh lg:hidden"])},[t("div",Hn,[t("ul",Sn,[(o(!0),n(P,null,F(ce.value,f=>(o(),n(P,{key:f.path},[f.hideOnMobile?i("",!0):(o(),n("li",{key:0,class:L(["block px-3 text-base font-medium text-gray-300 sm:text-lg",{"text-white":f.path===s(m).path}])},[f.external&&f.path?(o(),n("a",{key:0,href:f.path,class:"hover:text-white"},[t("span",null,c(f.text),1)],8,Dn)):f.onClick?(o(),n("button",{key:1,class:"hover:text-white",onClick:f.onClick},[t("span",null,c(f.text),1)],8,Un)):f.path?(o(),k(te,{key:2,to:f.path,class:"hover:text-white"},{default:b(()=>[t("span",null,c(f.text),1)]),_:2},1032,["to"])):i("",!0),f.subMenuItems&&f.subMenuItems.some(w=>!w.hideOnMobile)?(o(),n("ul",Fn,[(o(!0),n(P,null,F(f.subMenuItems,w=>(o(),n(P,{key:w.path},[w.hideOnMobile?i("",!0):(o(),n("li",{key:0,class:L(["block px-3 py-1 text-sm font-normal text-gray-300 sm:text-base",{"text-white":w.path===s(m).path}])},[w.external&&w.path?(o(),n("a",{key:0,href:w.path,class:"hover:text-white"},[t("span",null,c(w.text),1)],8,Gn)):w.onClick?(o(),n("button",{key:1,class:"hover:text-white",onClick:w.onClick},[t("span",null,c(w.text),1)],8,Rn)):w.path?(o(),k(te,{key:2,to:w.path,class:"hover:text-white"},{default:b(()=>[t("span",null,c(w.text),1)]),_:2},1032,["to"])):i("",!0)],2))],64))),128))])):i("",!0)],2))],64))),128)),s(v)?(o(),n("li",jn,[t("button",{onClick:x[1]||(x[1]=(...f)=>a.value.logout.onClick&&a.value.logout.onClick(...f))},c(a.value.logout.text),1)])):i("",!0)])])],2)])])}}}),zn=A({__name:"TopBanner",props:{text:{},class:{default:"bg-blue-500"},sticky:{type:Boolean,default:!0}},setup(e){const m=e;return(g,v)=>(o(),n("div",{class:L(["z-sticky flex items-center justify-center p-2 text-center",{[m.class]:!0,"sticky top-0":m.sticky}])},c(m.text),3))}}),Vn={class:"h-full-minus-bar flex"},Kn={class:"relative h-full flex-1 overflow-auto align-top"},Qn=A({__name:"ViewNavWrapper",setup(e){const m=j(!1);return pe(()=>{m.value=Ct()}),(g,v)=>{const h=On,u=zn;return o(),n("div",null,[M(h),m.value?(o(),k(u,{key:0,text:"WARNING! YOU ARE IMPERSONATING ANOTHER USER!",class:"bg-red-600"})):i("",!0),t("div",Vn,[t("div",Kn,[Nt(g.$slots,"default")])])])}}});export{Qn as _};
